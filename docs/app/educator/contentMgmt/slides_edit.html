<!DOCTYPE html>
<!--left bar-->
<div layout="row" flex>
  <div flex="15"></div>
  <div class="md-whiteframe-z2" layout="column" flex="70">
  <form name="qnsForm"> 
    <style>
      ng-messages {display: block;}
    </style>
    <h2 class="pull-left" style="padding:0px 10px">{{qns.qnsTitle}}</h2>
    <div style="padding: 30px">
      
      <div class="pull-right" style="padding:30px">
        <md-button class="md-raised" type='submit' ng-click='qnsForm.$valid && saveQns($event)'>Save all changes</md-button>
        <md-button class="md-warn md-raised " ng-show="!isNewQuestion" ng-click='deleteQns($event,qns.cid,qns.qid)'>Delete Question</md-button>
        <md-button class="md-raised" type='submit' ng-click='backToCourseMap()'>Cancel</md-button>
      </div>
    </div>
    <md-divider></md-divider>
    <div style="padding: 100px 20px">
      <div layout="column">
        <div layout="row" layout-align="center center">
          <div flex style="padding:10px">
            <md-input-container class="md-block">
              <label>Question Title</label>
              <input ng-model="qns.qnsTitle" name='qnsTitle' required>
              <ng-messages for="qnsForm.qnsTitle.$error" md-auto-hide="true">
                  <div ng-message="required">This is required.</div>
              </ng-messages>
            </md-input-container>
          </div>
        </div>
        <form>
          <div ng-repeat="slide in qns.slides track by $index">
            <md-divider></md-divider>
            <div layout="row" layout-align="center center">
              <div flex="45" style="padding:10px">
                <md-input-container class="md-block">
                  <label>Slide Image Link</label>
                  <input ng-model="slide.imageLink" name='slide.imageLink.{{$index}}' required>
                  <ng-messages for="qnsForm.slide.imageLink.$index.$error" md-auto-hide="true">
                    <div ng-message="required">This is required.</div>
                  </ng-messages>
                </md-input-container>
              </div>
              <div flex="45" style="padding:10px">
                <md-input-container class="md-block">
                  <label>Explanation</label>
                  <input ng-model="slide.explanation" name='slide.explanation.{{$index}}' rows="1" md-select-on-focus required>
                  <ng-messages for="qnsForm.slide.explanation.$index.$error" md-auto-hide="true">
                    <div ng-message="required">This is required.</div>
                  </ng-messages>
                </md-input-container>
              </div>
              <div felx="10">
                <md-button class="md-icon-button" aria-label="Settings" ng-click='deleteSlide($index)'>
                  <i class="fa fa-times"></i>
                </md-button>
              </div>
            </div>
          </div>
        </form>
      </div>
      <div layout="row" layout-align="center center">
        <div style="width:50%">
          <md-button class="md-raised md-primary" ng-disabled="false" style="width: 100%" ng-click='addSlide()'>Add New Slide</md-button>
        </div>
      </div>
    </div>
  </form>
  </div>
</div>
